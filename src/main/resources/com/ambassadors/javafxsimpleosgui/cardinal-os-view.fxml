<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.SVGPath?>

<AnchorPane fx:id="desktopPane" prefHeight="720.0" prefWidth="1280.0" stylesheets="@styles/cardinal-os.css" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.ambassadors.javafxsimpleosgui.CardinalOSController">
    <children>
        <!-- 2. TOP MENU BAR (MEMBER 1) -->
        <HBox alignment="CENTER_LEFT" spacing="15.0" styleClass="menu-bar" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
            <children>
                <!-- Logo/Brand -->
                <Label styleClass="menu-bar-label" text="🐦 CardinalOS" style="-fx-font-weight: bold; -fx-padding: 0 0 0 15;" />

                <!-- Menu Items -->
                <Button styleClass="menu-bar-label" text="File" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-cursor: hand;" />
                <Button styleClass="menu-bar-label" text="Edit" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-cursor: hand;" />
                <Button styleClass="menu-bar-label" text="View" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-cursor: hand;" />
                <Button styleClass="menu-bar-label" text="Help" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-cursor: hand;" />

                <!-- Spacer to push clock to right -->
                <Region HBox.hgrow="ALWAYS" />

                <!-- Clock with better styling -->
                <Label fx:id="clockLabel" styleClass="menu-bar-label" text="00:00" style="-fx-font-weight: bold; -fx-padding: 0 15 0 0;" />
            </children>
        </HBox>

        <!-- TERMINAL WINDOW SKELETON (Added for Member 2) -->
        <!-- fx:id links this to the 'terminalWindow' variable in the controller -->
        <VBox fx:id="terminalWindow" layoutX="400.0" layoutY="150.0" styleClass="window">
            <children>
                <!-- fx:id links this to the 'terminalTitleBar' variable in the controller -->
                <HBox fx:id="terminalTitleBar" alignment="CENTER_LEFT" styleClass="window-title-bar">
                    <children>
                        <!-- Window control buttons -->
                        <HBox alignment="CENTER_LEFT" spacing="5.0">
                            <Pane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" onMouseClicked="#handleClose" prefHeight="23.0" prefWidth="21.0" styleClass="window-button-close" />
                            <Pane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" onMouseClicked="#handleMin" styleClass="window-button-min" />
                            <Pane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" onMouseClicked="#handleMax" styleClass="window-button-max" />
                        </HBox>
                        <Label styleClass="window-title-label" text="Terminal" />
                    </children>
                </HBox>
                <TextArea fx:id="TerminalBox" styleClass="window-content" VBox.vgrow="ALWAYS" />
            </children>
        </VBox>

        <!-- 4. BOTTOM DOCK (MEMBER 1 & 2) -->
        <HBox alignment="CENTER" layoutX="-74.0" layoutY="658.0" prefWidth="1378.0" styleClass="dock" AnchorPane.bottomAnchor="-2.0" AnchorPane.leftAnchor="-22.0" AnchorPane.rightAnchor="-24.0">
            <children>
                <!-- "Start" Button -->
                <!-- fx:id links this button -->
                <!-- onMouseClicked links the click action to our Java method -->
                <Button fx:id="startButton" contentDisplay="GRAPHIC_ONLY" onMouseClicked="#handleStartClick" styleClass="dock-button" text="Start">
                    <graphic>
                        <!-- Added fx:id to this icon for styling -->
                        <SVGPath fx:id="startButtonIcon" content="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.536L16.732 3.732z M14.5 6.5l-3.5 3.5m0 0l-3.5 3.5m3.5-3.5l3.5 3.5" styleClass="dock-icon" />
                    </graphic>
                </Button>
                <Pane styleClass="dock-separator" />
                <!-- Terminal Button -->
                <Button fx:id="TerminalButton" contentDisplay="GRAPHIC_ONLY" onMouseClicked="#handleTerminalClick" styleClass="dock-button" text="Terminal">
                    <graphic>
                        <SVGPath content="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" styleClass="dock-icon" />
                    </graphic>
                </Button>
                <!-- Notepad Button -->
                <Button fx:id="NotepadButton" contentDisplay="GRAPHIC_ONLY" onMouseClicked="#handleNotepadClick" styleClass="dock-button" text="Notepad">
                    <graphic>
                        <SVGPath content="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" styleClass="dock-icon" />
                    </graphic>
                </Button>
                <!-- Settings Button (Placeholder) -->
                <Button contentDisplay="GRAPHIC_ONLY" styleClass="dock-button" text="Settings">
                    <graphic>
                        <SVGPath content="M10.325 4.317c.517-1.33 1.953-2.317 3.551-2.317 1.6 0 3.034.987 3.55 2.317h1.666c.55 0 1 .45 1 1v2.834c0 .55-.45 1-1 1h-1.666c-.517 1.33-1.953 2.317-3.551-2.317-1.6 0-3.034-.987-3.55-2.317H5.667c-.55 0-1-.45-1-1V5.317c0-.55.45-1 1-1h1.666zM12 12a3 3 0 100-6 3 3 0 000 6z" styleClass="dock-icon" />
                    </graphic>
                </Button>
            </children>
        </HBox>
        <AnchorPane fx:id="startMenu" layoutX="66.0" layoutY="51.0" prefHeight="300.0" prefWidth="250.0" styleClass="start-menu" visible="false" AnchorPane.bottomAnchor="70.0" AnchorPane.leftAnchor="20.0">
            <children>
                <TextField fx:id="searchField" layoutX="15.0" layoutY="15.0" prefWidth="220.0" promptText="Search apps and files..." styleClass="start-search-bar" onKeyReleased="#handleSearch" />
                <VBox fx:id="searchResults" layoutX="15.0" layoutY="55.0" prefHeight="180.0" prefWidth="220.0" spacing="3.0" />
                <Button contentDisplay="GRAPHIC_ONLY" layoutX="15.0" layoutY="245.0" prefWidth="220.0" mnemonicParsing="false" styleClass="dock-button" text="Shutdown">
                    <graphic>
                        <SVGPath fx:id="startButtonIcon1" content="M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9" fill="RED" styleClass="dock-icon2" />
                    </graphic>
                </Button>
            </children>
        </AnchorPane>
        <VBox fx:id="NotepadWindow" layoutX="400.0" layoutY="150.0" styleClass="notepad" visible="false">
            <children>
                <HBox fx:id="notepadTitleBar" alignment="CENTER_LEFT" styleClass="notepad-title-bar">
                    <children>
                        <HBox alignment="CENTER_LEFT" spacing="5.0">
                            <children>
                                <Pane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" onMouseClicked="#handleClose2" prefHeight="23.0" prefWidth="21.0" styleClass="notepad-button-close" />
                                <Pane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" onMouseClicked="#handleMin2" styleClass="notepad-button-min" />
                                <Pane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" onMouseClicked="#handleMax2" styleClass="notepad-button-max" />
                            </children>
                        </HBox>
                        <Label styleClass="notepad-title-label" text="Notepad" />
                    </children>
                </HBox>
                <TextArea fx:id="NotepadBox" prefHeight="360.0" prefWidth="200.0" VBox.vgrow="ALWAYS" />
            </children>
        </VBox>
    </children>
</AnchorPane>